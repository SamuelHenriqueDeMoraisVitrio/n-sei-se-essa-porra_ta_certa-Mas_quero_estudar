<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema ARM Completo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #764ba2;
            font-size: 2.5em;
            margin-bottom: 10px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        
        h2 {
            color: #667eea;
            margin-top: 40px;
            font-size: 1.8em;
            border-left: 4px solid #764ba2;
            padding-left: 10px;
        }
        
        h3 {
            color: #555;
            margin-top: 25px;
            font-size: 1.3em;
        }
        
        .diagram {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
        }
        
        .logic-gate {
            display: inline-block;
            margin: 10px;
            padding: 15px;
            background: white;
            border: 2px solid #667eea;
            border-radius: 8px;
            text-align: center;
            transition: transform 0.3s;
        }
        
        .logic-gate:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            line-height: 1.5;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .code-block .comment {
            color: #75715e;
        }
        
        .code-block .keyword {
            color: #66d9ef;
            font-weight: bold;
        }
        
        .code-block .string {
            color: #a6e22e;
        }
        
        .code-block .number {
            color: #ae81ff;
        }
        
        .register-box {
            display: inline-block;
            width: 80px;
            padding: 10px;
            margin: 5px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 5px;
            text-align: center;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .memory-cell {
            display: inline-block;
            width: 60px;
            height: 40px;
            border: 1px solid #999;
            text-align: center;
            line-height: 40px;
            margin: 2px;
            background: #fff;
            font-family: monospace;
            transition: background 0.3s;
        }
        
        .memory-cell:hover {
            background: #e6f3ff;
        }
        
        .pipeline-stage {
            display: inline-block;
            padding: 15px 25px;
            margin: 5px;
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            border-radius: 25px;
            font-weight: bold;
            color: #2c3e50;
            box-shadow: 0 3px 10px rgba(0,0,0,0.15);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        td {
            padding: 10px;
            border-bottom: 1px solid #eee;
        }
        
        tr:hover {
            background: #f5f5f5;
        }
        
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .info {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .arm-cpu {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 30px 0;
        }
        
        .cpu-component {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        svg {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß Sistema ARM: Do Transistor ao Printf</h1>
        
        <h2>üìå Parte 1: Fundamentos - Portas L√≥gicas e Transistores</h2>
        
        <h3>1.1 O Transistor - A Base de Tudo</h3>
        <div class="diagram">
            <svg width="600" height="300" viewBox="0 0 600 300">
                <!-- Transistor MOSFET simplificado -->
                <g transform="translate(50, 50)">
                    <text x="0" y="-10" font-size="16" font-weight="bold">Transistor NMOS</text>
                    <!-- Gate -->
                    <line x1="0" y1="50" x2="40" y2="50" stroke="black" stroke-width="2"/>
                    <rect x="40" y="30" width="10" height="40" fill="#666"/>
                    <!-- Source e Drain -->
                    <line x1="50" y1="30" x2="80" y2="30" stroke="black" stroke-width="2"/>
                    <line x1="50" y1="70" x2="80" y2="70" stroke="black" stroke-width="2"/>
                    <!-- Canal -->
                    <line x1="50" y1="30" x2="50" y2="70" stroke="black" stroke-width="1" stroke-dasharray="2,2"/>
                    <!-- Labels -->
                    <text x="-20" y="55" font-size="12">Gate</text>
                    <text x="85" y="35" font-size="12">Drain</text>
                    <text x="85" y="75" font-size="12">Source</text>
                </g>
                
                <!-- Porta NOT com transistores -->
                <g transform="translate(250, 50)">
                    <text x="0" y="-10" font-size="16" font-weight="bold">Porta NOT (Inversor)</text>
                    <!-- PMOS -->
                    <circle cx="50" cy="40" r="5" fill="white" stroke="black" stroke-width="2"/>
                    <rect x="45" y="20" width="10" height="20" fill="#666"/>
                    <line x1="0" y1="30" x2="45" y2="30" stroke="black" stroke-width="2"/>
                    <line x1="50" y1="0" x2="50" y2="20" stroke="red" stroke-width="2"/>
                    <text x="60" y="10" font-size="12" fill="red">VDD</text>
                    
                    <!-- NMOS -->
                    <rect x="45" y="60" width="10" height="20" fill="#666"/>
                    <line x1="0" y1="70" x2="45" y2="70" stroke="black" stroke-width="2"/>
                    <line x1="50" y1="80" x2="50" y2="100" stroke="blue" stroke-width="2"/>
                    <text x="60" y="95" font-size="12" fill="blue">GND</text>
                    
                    <!-- Conex√µes -->
                    <line x1="50" y1="45" x2="50" y2="60" stroke="black" stroke-width="2"/>
                    <line x1="50" y1="50" x2="100" y2="50" stroke="black" stroke-width="2"/>
                    
                    <!-- Labels -->
                    <text x="-30" y="55" font-size="12">IN</text>
                    <text x="105" y="55" font-size="12">OUT</text>
                </g>
            </svg>
        </div>
        
        <h3>1.2 Portas L√≥gicas B√°sicas</h3>
        <div class="diagram">
            <div class="logic-gate">
                <strong>AND</strong><br>
                A ¬∑ B<br>
                <small>0¬∑0=0 | 0¬∑1=0<br>1¬∑0=0 | 1¬∑1=1</small>
            </div>
            <div class="logic-gate">
                <strong>OR</strong><br>
                A + B<br>
                <small>0+0=0 | 0+1=1<br>1+0=1 | 1+1=1</small>
            </div>
            <div class="logic-gate">
                <strong>XOR</strong><br>
                A ‚äï B<br>
                <small>0‚äï0=0 | 0‚äï1=1<br>1‚äï0=1 | 1‚äï1=0</small>
            </div>
            <div class="logic-gate">
                <strong>NOT</strong><br>
                ¬¨A<br>
                <small>¬¨0=1<br>¬¨1=0</small>
            </div>
        </div>
        
        <h2>üìê Parte 2: Componentes Fundamentais</h2>
        
        <h3>2.1 Somador Completo (Full Adder)</h3>
        <div class="diagram">
            <svg width="700" height="400" viewBox="0 0 700 400">
                <!-- Full Adder Circuit -->
                <g transform="translate(50, 50)">
                    <text x="200" y="-20" font-size="18" font-weight="bold" text-anchor="middle">Somador Completo de 1 Bit</text>
                    
                    <!-- Inputs -->
                    <text x="0" y="50" font-size="14">A</text>
                    <text x="0" y="100" font-size="14">B</text>
                    <text x="0" y="150" font-size="14">Cin</text>
                    
                    <!-- First XOR gate -->
                    <rect x="60" y="30" width="80" height="60" fill="#e6f3ff" stroke="#667eea" stroke-width="2"/>
                    <text x="100" y="65" font-size="14" text-anchor="middle">XOR</text>
                    <line x1="20" y1="50" x2="60" y2="50" stroke="black" stroke-width="2"/>
                    <line x1="20" y1="100" x2="60" y2="70" stroke="black" stroke-width="2"/>
                    <line x1="140" y1="60" x2="180" y2="60" stroke="black" stroke-width="2"/>
                    
                    <!-- Second XOR gate for Sum -->
                    <rect x="180" y="40" width="80" height="60" fill="#e6f3ff" stroke="#667eea" stroke-width="2"/>
                    <text x="220" y="75" font-size="14" text-anchor="middle">XOR</text>
                    <line x1="20" y1="150" x2="180" y2="80" stroke="black" stroke-width="2"/>
                    <line x1="260" y1="70" x2="300" y2="70" stroke="black" stroke-width="2"/>
                    
                    <!-- AND gate 1 -->
                    <rect x="60" y="180" width="80" height="60" fill="#ffe6e6" stroke="#ff6666" stroke-width="2"/>
                    <text x="100" y="215" font-size="14" text-anchor="middle">AND</text>
                    <line x1="140" y1="210" x2="180" y2="210" stroke="black" stroke-width="2"/>
                    
                    <!-- AND gate 2 -->
                    <rect x="180" y="130" width="80" height="60" fill="#ffe6e6" stroke="#ff6666" stroke-width="2"/>
                    <text x="220" y="165" font-size="14" text-anchor="middle">AND</text>
                    <line x1="260" y1="160" x2="300" y2="160" stroke="black" stroke-width="2"/>
                    
                    <!-- OR gate for Cout -->
                    <rect x="300" y="155" width="80" height="60" fill="#e6ffe6" stroke="#66ff66" stroke-width="2"/>
                    <text x="340" y="190" font-size="14" text-anchor="middle">OR</text>
                    <line x1="380" y1="185" x2="420" y2="185" stroke="black" stroke-width="2"/>
                    
                    <!-- Outputs -->
                    <text x="310" y="75" font-size="14">Sum</text>
                    <text x="430" y="190" font-size="14">Cout</text>
                    
                    <!-- Truth Table -->
                    <g transform="translate(450, 0)">
                        <text x="50" y="0" font-size="16" font-weight="bold">Tabela Verdade</text>
                        <rect x="0" y="10" width="150" height="200" fill="none" stroke="black"/>
                        <line x1="0" y1="35" x2="150" y2="35" stroke="black"/>
                        <text x="10" y="28" font-size="12">A B Cin | Sum Cout</text>
                        <text x="10" y="50" font-size="11" font-family="monospace">0 0 0   |  0   0</text>
                        <text x="10" y="70" font-size="11" font-family="monospace">0 0 1   |  1   0</text>
                        <text x="10" y="90" font-size="11" font-family="monospace">0 1 0   |  1   0</text>
                        <text x="10" y="110" font-size="11" font-family="monospace">0 1 1   |  0   1</text>
                        <text x="10" y="130" font-size="11" font-family="monospace">1 0 0   |  1   0</text>
                        <text x="10" y="150" font-size="11" font-family="monospace">1 0 1   |  0   1</text>
                        <text x="10" y="170" font-size="11" font-family="monospace">1 1 0   |  0   1</text>
                        <text x="10" y="190" font-size="11" font-family="monospace">1 1 1   |  1   1</text>
                    </g>
                </g>
            </svg>
        </div>
        
        <h3>2.2 ALU (Unidade L√≥gica Aritm√©tica) de 4 bits</h3>
        <div class="code-block">
<span class="comment">// Esquema l√≥gico de uma ALU simples de 4 bits</span>
<span class="keyword">module</span> ALU_4bit (
    <span class="keyword">input</span> [3:0] A,      <span class="comment">// Operando A (4 bits)</span>
    <span class="keyword">input</span> [3:0] B,      <span class="comment">// Operando B (4 bits)</span>
    <span class="keyword">input</span> [2:0] OpCode, <span class="comment">// C√≥digo da opera√ß√£o</span>
    <span class="keyword">output</span> [3:0] Result,<span class="comment">// Resultado (4 bits)</span>
    <span class="keyword">output</span> Zero,       <span class="comment">// Flag Zero</span>
    <span class="keyword">output</span> Carry,      <span class="comment">// Flag Carry</span>
    <span class="keyword">output</span> Overflow    <span class="comment">// Flag Overflow</span>
);

<span class="comment">// OpCode:</span>
<span class="comment">// 000 - ADD (A + B)</span>
<span class="comment">// 001 - SUB (A - B)</span>
<span class="comment">// 010 - AND (A & B)</span>
<span class="comment">// 011 - OR  (A | B)</span>
<span class="comment">// 100 - XOR (A ^ B)</span>
<span class="comment">// 101 - SHL (A << 1)</span>
<span class="comment">// 110 - SHR (A >> 1)</span>
<span class="comment">// 111 - CMP (A - B, apenas flags)</span>
        </div>
        
        <h2>üèóÔ∏è Parte 3: Arquitetura ARM</h2>
        
        <h3>3.1 Vis√£o Geral da CPU ARM</h3>
        <div class="arm-cpu">
            <div class="cpu-component">
                <h4>Unidade de Controle</h4>
                <small>Decodifica instru√ß√µes<br>Controla datapath</small>
            </div>
            <div class="cpu-component">
                <h4>Banco de Registradores</h4>
                <small>R0-R15 (32 bits cada)<br>PC, SP, LR</small>
            </div>
            <div class="cpu-component">
                <h4>ALU</h4>
                <small>Opera√ß√µes aritm√©ticas<br>Opera√ß√µes l√≥gicas</small>
            </div>
            <div class="cpu-component">
                <h4>Unidade de Mem√≥ria</h4>
                <small>Cache L1/L2<br>Interface com RAM</small>
            </div>
            <div class="cpu-component">
                <h4>Pipeline</h4>
                <small>Fetch, Decode<br>Execute, Memory, Writeback</small>
            </div>
            <div class="cpu-component">
                <h4>FPU</h4>
                <small>Ponto flutuante<br>SIMD/NEON</small>
            </div>
        </div>
        
        <h3>3.2 Registradores ARM</h3>
        <div class="diagram">
            <div class="register-box">R0</div>
            <div class="register-box">R1</div>
            <div class="register-box">R2</div>
            <div class="register-box">R3</div>
            <span> ‚Üí Argumentos e valores de retorno</span><br>
            <div class="register-box">R4</div>
            <div class="register-box">R5</div>
            <div class="register-box">R6</div>
            <div class="register-box">R7</div>
            <div class="register-box">R8</div>
            <span> ‚Üí Vari√°veis locais</span><br>
            <div class="register-box">R9</div>
            <div class="register-box">R10</div>
            <div class="register-box">R11/FP</div>
            <span> ‚Üí Frame Pointer</span><br>
            <div class="register-box">R12/IP</div>
            <span> ‚Üí Intra-Procedure-call scratch</span><br>
            <div class="register-box">R13/SP</div>
            <span> ‚Üí Stack Pointer</span><br>
            <div class="register-box">R14/LR</div>
            <span> ‚Üí Link Register</span><br>
            <div class="register-box">R15/PC</div>
            <span> ‚Üí Program Counter</span><br>
        </div>
        
        <h3>3.3 Pipeline ARM de 5 Est√°gios</h3>
        <div class="diagram">
            <div class="pipeline-stage">IF - Instruction Fetch</div>
            <div class="pipeline-stage">ID - Instruction Decode</div>
            <div class="pipeline-stage">EX - Execute</div>
            <div class="pipeline-stage">MEM - Memory Access</div>
            <div class="pipeline-stage">WB - Write Back</div>
        </div>
        
        <h3>3.4 Conjunto de Instru√ß√µes ARM (B√°sico)</h3>
        <table>
            <thead>
                <tr>
                    <th>Instru√ß√£o</th>
                    <th>Formato</th>
                    <th>Descri√ß√£o</th>
                    <th>Exemplo</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>MOV</td>
                    <td>MOV Rd, Op2</td>
                    <td>Move valor para registrador</td>
                    <td>MOV R0, #10</td>
                </tr>
                <tr>
                    <td>ADD</td>
                    <td>ADD Rd, Rn, Op2</td>
                    <td>Soma dois valores</td>
                    <td>ADD R2, R0, R1</td>
                </tr>
                <tr>
                    <td>SUB</td>
                    <td>SUB Rd, Rn, Op2</td>
                    <td>Subtrai dois valores</td>
                    <td>SUB R2, R0, R1</td>
                </tr>
                <tr>
                    <td>LDR</td>
                    <td>LDR Rd, [Rn]</td>
                    <td>Carrega da mem√≥ria</td>
                    <td>LDR R0, [R1]</td>
                </tr>
                <tr>
                    <td>STR</td>
                    <td>STR Rd, [Rn]</td>
                    <td>Armazena na mem√≥ria</td>
                    <td>STR R0, [R1]</td>
                </tr>
                <tr>
                    <td>B</td>
                    <td>B label</td>
                    <td>Branch (salto)</td>
                    <td>B loop_start</td>
                </tr>
                <tr>
                    <td>BL</td>
                    <td>BL label</td>
                    <td>Branch with Link</td>
                    <td>BL printf</td>
                </tr>
                <tr>
                    <td>CMP</td>
                    <td>CMP Rn, Op2</td>
                    <td>Compara valores</td>
                    <td>CMP R0, #0</td>
                </tr>
            </tbody>
        </table>
        
        <h2>üíæ Parte 4: Sistema de Mem√≥ria</h2>
        
        <h3>4.1 Hierarquia de Mem√≥ria</h3>
        <div class="info">
            <strong>N√≠veis de Mem√≥ria (do mais r√°pido ao mais lento):</strong><br>
            1. <strong>Registradores</strong> - 1 ciclo, ~1KB<br>
            2. <strong>Cache L1</strong> - 2-4 ciclos, 32-64KB<br>
            3. <strong>Cache L2</strong> - 10-20 ciclos, 256KB-1MB<br>
            4. <strong>Cache L3</strong> - 20-40 ciclos, 8-32MB<br>
            5. <strong>RAM</strong> - 100-300 ciclos, GBs<br>
            6. <strong>Disco</strong> - Milh√µes de ciclos, TBs
        </div>
        
        <h3>4.2 Mapa de Mem√≥ria T√≠pico</h3>
        <div class="diagram">
            <svg width="700" height="400" viewBox="0 0 700 400">
                <rect x="50" y="20" width="200" height="350" fill="#f0f0f0" stroke="black" stroke-width="2"/>
                
                <!-- Memory regions -->
                <rect x="50" y="20" width="200" height="50" fill="#ff9999"/>
                <text x="150" y="50" text-anchor="middle" font-size="14">Kernel Space</text>
                <text x="270" y="50" font-size="12">0xFFFFFFFF</text>
                
                <rect x="50" y="70" width="200" height="60" fill="#99ccff"/>
                <text x="150" y="105" text-anchor="middle" font-size="14">Stack ‚Üì</text>
                <text x="270" y="100" font-size="12">0xC0000000</text>
                
                <rect x="50" y="130" width="200" height="80" fill="#ffffff"/>
                <text x="150" y="175" text-anchor="middle" font-size="14">Free Space</text>
                
                <rect x="50" y="210" width="200" height="60" fill="#99ff99"/>
                <text x="150" y="245" text-anchor="middle" font-size="14">Heap ‚Üë</text>
                <text x="270" y="240" font-size="12">Cresce dinamicamente</text>
                
                <rect x="50" y="270" width="200" height="50" fill="#ffcc99"/>
                <text x="150" y="300" text-anchor="middle" font-size="14">Data (.data, .bss)</text>
                <text x="270" y="295" font-size="12">Vari√°veis globais</text>
                
                <rect x="50" y="320" width="200" height="50" fill="#cc99ff"/>
                <text x="150" y="350" text-anchor="middle" font-size="14">Text (.text)</text>
                <text x="270" y="350" font-size="12">0x00008000</text>
                
                <!-- Memory cells example -->
                <g transform="translate(400, 50)">
                    <text x="0" y="-10" font-size="14" font-weight="bold">Exemplo de C√©lulas de Mem√≥ria</text>
                    <rect x="0" y="0" width="60" height="30" fill="white" stroke="black"/>
                    <text x="30" y="20" text-anchor="middle" font-size="10">0x1000</text>
                    <rect x="60" y="0" width="60" height="30" fill="white" stroke="black"/>
                    <text x="90" y="20" text-anchor="middle" font-size="10">0x48</text>
                    
                    <rect x="0" y="30" width="60" height="30" fill="white" stroke="black"/>
                    <text x="30" y="50" text-anchor="middle" font-size="10">0x1004</text>
                    <rect x="60" y="30" width="60" height="30" fill="white" stroke="black"/>
                    <text x="90" y="50" text-anchor="middle" font-size="10">0x65</text>
                    
                    <rect x="0" y="60" width="60" height="30" fill="white" stroke="black"/>
                    <text x="30" y="80" text-anchor="middle" font-size="10">0x1008</text>
                    <rect x="60" y="60" width="60" height="30" fill="white" stroke="black"/>
                    <text x="90" y="80" text-anchor="middle" font-size="10">0x6C</text>
                    
                    <rect x="0" y="90" width="60" height="30" fill="white" stroke="black"/>
                    <text x="30" y="110" text-anchor="middle" font-size="10">0x100C</text>
                    <rect x="60" y="90" width="60" height="30" fill="white" stroke="black"/>
                    <text x="90" y="110" text-anchor="middle" font-size="10">0x6C</text>
                    
                    <rect x="0" y="120" width="60" height="30" fill="white" stroke="black"/>
                    <text x
